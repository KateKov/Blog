@using BlogKovalenko.DAL.Entities
@model IEnumerable<Article>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>Главная</h3>

<p>
      @Html.ActionLink("Добавить новую статью", "Create")
</p>
<div >
<table id="rep">
    <tr>
        <th>
            @Html.Label("Автор")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Photo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Tags)
        </th>
        
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Authors.Surname)
            @Html.DisplayFor(modelItem => item.Authors.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Title)
        </td>
        <td>
            <img src="@item.Photo" alt="@item.Title" width="200" />
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Date)
        </td>
        @*<td>
            <ul>
                @foreach (var tag in item.Tags)
                {
                    <li> @Html.DisplayFor(modelItem => tag.Title) </li>
                }
            </ul>
        </td>*@
        <td rowspan="2">
            @Html.ActionLink("Редактировать", "Edit", new { id = item.ArticleId }) |
            @Html.ActionLink("Подробнее", "Details", new { id = item.ArticleId }) |
            @Html.ActionLink("Удалить", "Delete", new { id = item.ArticleId })
        </td>
      </tr>
      <tr>
        <td colspan="5">
            @Html.DisplayFor(modelItem => item.Text)
        </td>
        
    </tr>
}

</table>
</div>